package service.server;import com.google.gson.Gson;import com.sun.net.httpserver.HttpServer;import service.Managers;import service.handlers.*;import service.managers.TaskManager;import java.io.IOException;import java.net.InetSocketAddress;public class HttpTaskServer {    private static final int PORT = 8080;    private static Gson gson;    private static HttpServer server;    private final TaskManager taskManager;    public HttpTaskServer() throws IOException {        this(Managers.getDefault());    }    public HttpTaskServer(TaskManager taskManager) throws IOException {        this.taskManager = taskManager;        gson = Managers.getGson();        server = HttpServer.create(new InetSocketAddress("127.0.0.1", PORT), 0);        server.createContext("/api/tasks",  new TaskHandler(taskManager));        server.createContext("/api/epics", new EpicHandler(taskManager));        server.createContext("/api/subtasks", new SubTaskHandler(taskManager));        server.createContext("/api/history", new HistoryHandler(taskManager));        server.createContext("/api/prioritized", new PrioritizedHandler(taskManager));    }    public void start() {        server.start();        System.out.println("Сервер запущен");    }    public void stop() {        server.stop(0);        System.out.println("Сервер отключен");    }}